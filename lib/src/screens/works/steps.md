# ğŸ“Š StockApp MVP ê°œë°œ ë¡œë“œë§µ

> **ëª©í‘œ:** ì¬ê³ Â·ì£¼ë¬¸Â·ì‘ì—…Â·ë°œì£¼Â·ì…ì¶œê³ ë¥¼ í•˜ë‚˜ì˜ ë°ì´í„° íë¦„ìœ¼ë¡œ í†µí•©  
> **ë² ì´ìŠ¤:** Flutter + Provider + InMemoryRepo / SQLite ì „í™˜ ê°€ëŠ¥ êµ¬ì¡°

---

## âš™ï¸ ì „ì²´ ê°œë°œ ë‹¨ê³„ (ì½”ë”© ìˆœì„œí‘œ)

| ë‹¨ê³„ | ëª©í‘œ | êµ¬ì²´ ì‘ì—…(ì½”ë“œ) | íŒŒì¼/í´ë” | ì™„ë£Œ ê¸°ì¤€(DoD) |
|------|------|----------------|-------------|----------------|
| **0** | ë² ì´ìŠ¤ë¼ì¸ ê³ ì • | `pubspec.yaml` ì •ë¦¬ (`version`, deps). `main.dart`ë¥¼ **InMemoryRepo + RepoView íŒ¨í„´**ìœ¼ë¡œ êµ¬ì„±. import ì˜¤ë¥˜ ì •ë¦¬. | `pubspec.yaml`, `lib/main.dart`, `lib/src/repos/repo_views.dart` | `flutter run` ë¬´ì˜¤ë¥˜, ëŒ€ì‹œë³´ë“œÂ·ì¬ê³ Â·ì£¼ë¬¸Â·ì…ì¶œê³  í™”ë©´ ì§„ì… OK |
| **1** | ì¸í„°í˜ì´ìŠ¤ ì¶”ìƒí™” í™•ì • | `repo_views.dart`(ë¹„-Listenable ìœ„ì„ ë˜í¼) ì¶”ê°€Â·í™•ì¸. í™”ë©´ì€ `read<ItemRepo>()` ì‚¬ìš© + `watch<InMemoryRepo>()`ë¡œ ë¦¬ë¹Œë“œ. | `lib/src/repos/repo_views.dart`, ê° `screens/*.dart` | â€œProvider Listenable ì—ëŸ¬â€ ì¬ë°œ ì—†ìŒ |
| **2** | ë„ë©”ì¸ ëª¨ë¸ ë³´ê°• | **Work(ì‘ì—…)**, **Purchase(ë°œì£¼)** ëª¨ë¸Â·ì¸í„°í˜ì´ìŠ¤ ì •ì˜. InMemoryRepoì— ì„ì‹œ êµ¬í˜„ ì¶”ê°€. | `lib/src/models/work.dart`, `purchase.dart`, `lib/src/repos/repo_interfaces.dart`, `inmem_repo.dart` | mock ìƒì„±/ì¡°íšŒ ë©”ì„œë“œ ë™ì‘ |
| **3** | ì£¼ë¬¸ ì €ì¥ â†’ ë¶€ì¡±ë¶„ ê³„ì‚° | `ShortageService` êµ¬í˜„: ì£¼ë¬¸ ì €ì¥ ì‹œ ê° ë¼ì¸ë³„ `(ì¬ê³  - í•„ìš”ìˆ˜ëŸ‰)` ê³„ì‚° â†’ ë¶€ì¡±ë¶„ë§Œí¼ **Work/Purchase** ì œì•ˆ ìƒì„±. | `lib/src/services/shortage_service.dart`, `order_form_screen.dart` | ì£¼ë¬¸ ì €ì¥ í›„ ì½˜ì†”/ìŠ¤ë‚µë°”ì— ì œì•ˆ ìˆ˜ í™•ì¸ |
| **4** | ì‘ì—…/ë°œì£¼ ëª©ë¡Â·ìƒì„¸ | **Work/ë°œì£¼ ë¦¬ìŠ¤íŠ¸ & ìƒì„¸ í™”ë©´**(ì¹´ë“œÂ·ìƒíƒœ ë²„íŠ¼). ìƒíƒœ: `planned â†’ inProgress â†’ done`. | `lib/src/screens/work/work_list_screen.dart`, `work_detail_screen.dart`, `purchase/*` | ìƒíƒœ ì „í™˜ ë™ì‘ |
| **5** | Txn ì°¸ì¡° ì—°ê²° | ìƒíƒœ ì „í™˜ ì‹œ ìë™ ì…Â·ì¶œê³ : `Work.done` â†’ **ìì¬ OUT + ê²°ê³¼ë¬¼ IN**, `Purchase.done` â†’ **ìì¬ IN**. `Txn.refType/refId` ì±„ì›€. | `inmem_repo.dart`, `models/txn.dart` | Txn ë¦¬ìŠ¤íŠ¸ì—ì„œ ì°¸ì¡° í‘œì‹œÂ·ìˆ˜ëŸ‰ ì¼ì¹˜ |
| **6** | ì¬ê³ Â·ê²€ìƒ‰ ê³ ë„í™” | í´ë”/ì„œë¸Œí´ë” í•„í„° UI, ì´ë¦„/ì½”ë“œ/í´ë” ë™ì‹œ ê²€ìƒ‰, ì„ê³„ì¹˜ í•˜ì´ë¼ì´íŠ¸. | `stock_list_screen.dart`, `stock_new_item_sheet.dart` | í‚¤ì›Œë“œ+í´ë” í•„í„° ë™ì‘ |
| **7** | BOM í¸ì§‘(ìµœì†Œí˜•) | **BOM ì¶”ê°€/ì‚­ì œ í¼**(ë¶€ëª¨=ë°˜/ì™„ì œí’ˆ, ìì¬=ì›/ë¶€ìì¬, `qtyPer`). ë¶€ì¡±ë¶„ ê³„ì‚° ì‹œ BOM ì°¸ê³ (ì˜µì…”ë„). | `models/bom.dart`, `screens/bom/bom_editor.dart`, `inmem_repo.dart` | BOM ì¶”ê°€Â·ì¡°íšŒÂ·ì‚­ì œ ê°€ëŠ¥ |
| **8** | Txn ë ˆì € & ìµìŠ¤í¬íŠ¸ | Txn í•„í„°(ê¸°ê°„/í’ˆëª©/íƒ€ì…), CSV ë‚´ë³´ë‚´ê¸°. | `txn_list_screen.dart`, `utils/csv.dart` | í•„í„°Â·CSV ë™ì‘ |
| **9** | ëŒ€ì‹œë³´ë“œ ë³´ê°• | â€œì„ê³„ì¹˜ ì´í•˜ Nê±´â€, â€œë¯¸ì™„ ì‘ì—…/ë°œì£¼ ìˆ˜â€, â€œê¸ˆì¼ ì…Â·ì¶œê³  ìˆ˜â€ ì¹´ë“œ ì¶”ê°€. | `dashboard_screen.dart`, `inmem_repo.dart` | ì¹´ë“œ ìˆ˜ì¹˜ ë³€í™” ì¦‰ì‹œ ë°˜ì˜ |
| **10** | SQLite ì „í™˜ ì¤€ë¹„ | `SqliteRepo` êµ¬í˜„: `items/orders/order_lines/bom/txns` CRUD. Mapper ì‘ì„±. | `sqlite_repo.dart`, `assets/sql/schema.sql` | SqliteRepoë¡œ ìŠ¤ìœ„ì¹˜ ì‹œ ì •ìƒ ë™ì‘ |
| **11** | ë¦¬í¬ì§€í† ë¦¬ ìŠ¤ìœ„ì¹˜ | `main.dart` Providerì—ì„œ RepoViewì˜ `inner`ë¥¼ `SqliteRepo()`ë¡œ êµì²´(í•œ ì¤„). | `main.dart` | í™”ë©´ ì½”ë“œ ë³€ê²½ ì—†ì´ ë™ì‘ |
| **12** | ë°±ì—…/ë³µì›(ì„ íƒ) | Google Driveì— SQLite íŒŒì¼ ë°±ì—…/ë³µì›. | `services/backup_service.dart` | ìˆ˜ë™ ë°±ì—…Â·ë³µì› 1íšŒ ì„±ê³µ |
| **13** | í…ŒìŠ¤íŠ¸/í’ˆì§ˆ | ë¶€ì¡±ë¶„/ìƒíƒœì „í™˜/txn ìƒì„± í…ŒìŠ¤íŠ¸. | `test/*.dart` | `flutter test` í†µê³¼ |
| **14** | ë¦´ë¦¬ì¦ˆ ì¤€ë¹„ | iOS ë²ˆë“¤/ë²„ì „, Android íŒ¨í‚¤ì§€ëª…, ì•„ì´ì½˜/ìŠ¤í”Œë˜ì‹œ. | `pubspec.yaml`, `ios/`, `android/` | ì‹¤ê¸°ê¸° ë¹Œë“œ OK |

---

## ğŸ§± í™”ë©´ë³„ êµ¬í˜„ ì²´í¬ë¦¬ìŠ¤íŠ¸

| í™”ë©´ | ì£¼ìš” ê¸°ëŠ¥ | ì™„ë£Œ ì¡°ê±´ |
|------|------------|------------|
| **ì¬ê³ (Stock)** | ëª©ë¡Â·ê²€ìƒ‰Â·í•„í„°, ìƒˆ í’ˆëª©Â·ìˆ˜ì •, ìˆ˜ëŸ‰ ì¡°ì •(ì…Â·ì¶œê³ ) | ëª¨ë“  ë™ì‘ ì •ìƒ |
| **ì£¼ë¬¸(Order)** | ëª©ë¡Â·ìƒì„¸Â·í¸ì§‘, ì €ì¥ ì‹œ **ë¶€ì¡±ë¶„ ê³„ì‚°** | ì €ì¥ ì‹œ ìë™ ì œì•ˆ ìƒì„± |
| **ì‘ì—…(Work)** | ëª©ë¡Â·ìƒì„¸, ìƒíƒœ ì „í™˜ ì‹œ Txn ìƒì„± | ì…Â·ì¶œê³  Txn ìƒì„±ë¨ |
| **ë°œì£¼(Purchase)** | ëª©ë¡Â·ìƒì„¸, ìƒíƒœ ì „í™˜ ì‹œ Txn ìƒì„± | ì…ê³  Txn ìƒì„±ë¨ |
| **BOM** | ë¶€ëª¨-ìì¬ ë§¤í•‘ í¸ì§‘ | ì¶”ê°€Â·ì‚­ì œÂ·ì¡°íšŒ ì •ìƒ |
| **Txn** | ëª©ë¡Â·í•„í„°Â·CSV | í•„í„° ë™ì‘, CSV ìƒì„± |
| **ëŒ€ì‹œë³´ë“œ** | ì„ê³„ì¹˜Â·ë¯¸ì™„ ìˆ˜Â·ê¸ˆì¼ Txn ì¹´ë“œ | ìˆ˜ì¹˜ ì •í™• ë°˜ì˜ |
| **ë¦¬í¬ì§€í† ë¦¬** | InMemoryRepo â†” SqliteRepo êµì²´ | ì½”ë“œ ìˆ˜ì • ì—†ì´ ìŠ¤ìœ„ì¹˜ ê°€ëŠ¥ |

---

## ğŸ—‚ ìƒˆ íŒŒì¼/í´ë” ê°€ì´ë“œ

| íŒŒì¼ | ì—­í•  |
|------|------|
| `lib/src/services/shortage_service.dart` | ì£¼ë¬¸ ì €ì¥ ì‹œ ë¶€ì¡±ë¶„ ê³„ì‚° & ì œì•ˆ ìƒì„± |
| `lib/src/models/work.dart`, `purchase.dart` | ì‘ì—…Â·ë°œì£¼ ëª¨ë¸ (`id`, `status`, `lines`, `note`) |
| `lib/src/screens/work/*`, `purchase/*` | ë¦¬ìŠ¤íŠ¸/ìƒì„¸/ìƒíƒœ ë²„íŠ¼ |
| `lib/src/screens/bom/bom_editor.dart` | ê°„ë‹¨ BOM í¸ì§‘ í™”ë©´ |
| `lib/src/utils/csv.dart` | `List<Txn>` â†’ CSV ë³€í™˜ ìœ í‹¸ |

---

## ğŸ§© ì½”ë”© ê·œì¹™ ìš”ì•½

- **ë°ì´í„° í˜¸ì¶œ:** `final repo = context.read<ItemRepo>();`
- **í™”ë©´ ë¦¬ë¹Œë“œ íŠ¸ë¦¬ê±°:** `context.watch<InMemoryRepo>();`
- **ìƒíƒœ ì „í™˜ â†’ Txn ìƒì„±**ì€ Repo/Service ìª½ì—ì„œ ì²˜ë¦¬ (í™”ë©´ì€ ì–‡ê²Œ)
- **SQLite ì „í™˜**ì€ Providerì˜ `inner`ë§Œ ë°”ê¾¸ë©´ ì™„ë£Œ

---

## ğŸš€ í–¥í›„ í™•ì¥ ì•„ì´ë””ì–´

- ìƒì‚° ë‹¨ê°€/ìì¬ ì›ê°€ ìë™ ê³„ì‚°
- ê·¸ë˜í”„/ëŒ€ì‹œë³´ë“œ í†µê³„
- Google Drive / Firebase Sync ì˜µì…˜
- ì‚¬ìš©ì ë‹¤ê³„ì •(Workshop ê³µìœ )
- ëª¨ë°”ì¼ â†’ Web ë¹Œë“œ í†µí•©

---

**âœ… ê¶Œì¥ íŒŒì¼ëª…:** `PROJECT_PLAN.md`  
**âœ… ìœ ì§€ ë°©ë²•:** ë‹¨ê³„ ì™„ë£Œ ì‹œ ì²´í¬ë°•ìŠ¤ `[x]` ì¶”ê°€  
**âœ… ì£¼ê¸°:** ë‹¨ê³„ë³„ ì»¤ë°‹ & íƒœê·¸(`v0.x`, `v1.0`)ë¡œ ë²„ì „ ê´€ë¦¬

